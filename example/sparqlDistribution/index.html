<!DOCTYPE html>
<html lang="fr">

<head>
    <title>Sparql Delegation</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="/static/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/node_modules/bootstrap/dist/css/bootstrap-theme.min.css">
    <link rel="stylesheet" type="text/css" href="/static/example/sparqlDistribution/style.css">
    <script type="text/javascript" src="/static/node_modules/jquery/dist/jquery.min.js"> </script>
    <script type="text/javascript" src="/static/node_modules/bootstrap/dist/js/bootstrap.min.js"> </script>
    <!-- FOGLET BUNDLES -->
    <script type="text/javascript" src="/static/node_modules/spray-wrtc/build/spray-wrtc.bundle.js"> </script>
    <script type="text/javascript" src="/static/node_modules/foglet-ndp/build/foglet-ndp.bundle.js"> </script>
    <script type="text/javascript" src="/static/example/sparqlDistribution/main.js"> </script>

</head>

<body class="container-fluid">
  <div class="col-md-4 col-sm-4 col-xs-4">
    <div id="leftSection">
      <div class="panel panel-danger" >
        <div class="panel-heading">Logs</div>
        <div class="panel-body">
          <div id="leftContent">  </div>
          <hr/>
          <div id="leftBottom"> #Neighbours : 0 </div>
          <div> <br/>
            <button onclick='updateNeighbours()'class="btn btn-default form-control"> Refresh Neighbours </button>
            <button onclick='refreshConnection()'class="btn btn-default form-control"> Refresh Connection </button>
          </div>
        </div>
      </div>
    </div>
  </div>

	<div class="col-md-8 col-sm-8 col-xs-8">
		<div class="col-md-12 col-sm-12 col-xs-12 alert alert-success" style="text-align: center">
		    <h1>SPARQL Query Delegation</h1>
		</div>
		<div class="panel panel-primary col-md-12 col-sm-12 col-xs-12" style="padding-right: 0px;padding-left: 0px;">
			<div class="panel-heading">
			  <h3 class="panel-title">SPARQL Queries</h3>
        <p> This is a list of different kind of queries you can do :<a href="https://query.wikidata.org/bigdata/ldf" style="color:black">Wikidata endpoint</a> </p>
			</div>
			<div class="panel-body">

        <form>
          <div class="form-group">
            <label for="endpoint">Endpoint </label>
            <input type="text" class="form-control" id="endpoint" placeholder="https://query.wikidata.org/bigdata/ldf" value='https://query.wikidata.org/bigdata/ldf'>
          </div>
          <div class="form-group">
            <label for="delegateNumber">Number of neighbours to delegate </label>
            <input type="text" class="form-control" id="delegateNumber" placeholder="2" value='2'>
          </div>
        </form>
				<div class="form-group">
          <label for="queries"> Queries </label>
					<textarea class="form-control" rows="5" id="queries">
            [
               " PREFIX wd: <http://www.wikidata.org/entity/> SELECT * WHERE { ?s ?p wd:Q142. ?s ?p ?o . } LIMIT 5",
               " PREFIX wd: <http://www.wikidata.org/entity/> SELECT * WHERE { ?s ?p wd:Q142. ?s ?p ?o . } OFFSET 5 LIMIT 5",
               " PREFIX wd: <http://www.wikidata.org/entity/> SELECT * WHERE { ?s ?p wd:Q142. ?s ?p ?o . } OFFSET 10 LIMIT 5",
               " PREFIX wd: <http://www.wikidata.org/entity/> SELECT * WHERE { ?s ?p wd:Q142. ?s ?p ?o . } OFFSET 15 LIMIT 5",
               " PREFIX wd: <http://www.wikidata.org/entity/> SELECT * WHERE { ?s ?p wd:Q142. ?s ?p ?o . } OFFSET 20 LIMIT 5",
               " PREFIX wd: <http://www.wikidata.org/entity/> SELECT * WHERE { ?s ?p wd:Q142. ?s ?p ?o . } OFFSET 25 LIMIT 5",
               " PREFIX wd: <http://www.wikidata.org/entity/> SELECT * WHERE { ?s ?p wd:Q142. ?s ?p ?o . } OFFSET 30 LIMIT 5",
               " PREFIX wd: <http://www.wikidata.org/entity/> SELECT * WHERE { ?s ?p wd:Q142. ?s ?p ?o . } OFFSET 35 LIMIT 5",
               " PREFIX wd: <http://www.wikidata.org/entity/> SELECT * WHERE { ?s ?p wd:Q142. ?s ?p ?o . } OFFSET 40 LIMIT 5",
               " PREFIX wd: <http://www.wikidata.org/entity/> SELECT * WHERE { ?s ?p wd:Q142. ?s ?p ?o . } OFFSET 45 LIMIT 5"
            ]
					</textarea>
				</div>
				<div style='text-align:center'>
					<button onClick="send()" class="btn btn-info btn-lg">Send</button>
          <a onClick="getResultMetadata()" class="btn btn-success btn-lg" style='display:none' id='resultMetadata'>Get metadata about results</a>
				</div>
			</div>
		</div>
		<div class="panel panel-primary col-md-12 col-sm-12 col-xs-12" style="padding-right: 0px;padding-left: 0px;text-align:left" >
			<div class="panel-heading">
			  <h3 class="panel-title">Results</h3>
			</div>
			<div class="panel-body">

				<div  style="text-align: center" id="resultPanel">
				</div>
			</div>
		</div>

    <hr/>
    <div class="col-md-4 col-sm-4 col-xs-4 col-sm-offset-4 col-md-offset-4 col-xs-offset-4" style="padding-top:5em;text-align:center">
      <div class="label label-info">
		      Using <a href="https://github.com/Chat-Wane/spray-wrtc" target="_blank">SPRAY-WRTC</a> as RPS.
      </div>
      <div class="label label-info">
          Using <a href="https://github.com/folkvir/foglet-core" target="_blank">FOGLET-CORE</a> as High level API. <br/>
      </div>
      <div class="label label-info">
          Using <a href="https://github.com/folkvir/foglet-ndp" target="_blank">FOGLET-NDP</a> as Delegation Protocol.
      </div>
    </div>
    <hr/>




	</div>
</body>
</html>
